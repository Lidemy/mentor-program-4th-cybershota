## 什麼是 Ajax？

Ajax 是一個技術概念，是一種在網頁背景中交換資料的方式，讓使用者產生流暢的網頁應用體驗。

Ajax 全名為「唉姐～唉～ psssss」（Asynchronous JavaScript and XML）故名思義就是偷偷摸摸的技術，想像姐弟倆正在參加家族聚餐(main stream)，當姊弟倆要只是想私聊，不可能大聲講話中斷家庭聚餐正在進行的談話，而是透過打暗號的方式，私底下交換資訊（Asynchronous 非同步），等資訊交換完畢，再面帶微笑的融進主要話題。

## 用 Ajax 與我們用表單送出資料的差別在哪？

在沒有 Ajax 或相似技術概念的時代，HTML 送出表單給伺服器後，會再回傳一份新的 HTML 頁面，造成瀏覽器將頁面全部重新繪圖，過程中可能閃白，讓使用者的操作體驗中斷，畢竟人面對一張白紙都特別容易驚慌；而資料傳輸的時候，表單的處理是同步執行，使用者只能等待，頁面會靜止，網頁對任何操作都毫無反應。同時，HTML 文件的交換是網路頻寬資源的浪費，最重要的是資料內容，而不是文件結構。現今一次 Google 搜尋所耗費的能量，可以點亮一顆 LED 燈三分鐘，節省資料交換的成本，不管是在商業或環境保護，在過去和未來都是必須持續精進研究的方向。

2005 年後越趨成熟的 Ajax 技術概念，讓網頁送出表單，可以先透過 JavaScript 做資訊整理，再發送 XML 或 JSON 檔案給伺服器，伺服器也以同樣格式，回傳必要資料以節省頻寬增進溝通效率。再者，有 JavaScript 的幫助，網頁可以局部置換元素，讓頁面不再需要全部重新刷新，且非同步的進行資料交換，亦即使用者不會面對石化的網頁，讓網頁更能像應用軟體，能進行更複雜的操作卻不會中斷使用體驗。

## JSONP 是什麼？

JSONP 的全名為「同源政策，我呸！」（自帶蔡依林歌聲）JSON with Padding，是使用不被 HTML 同源政策列管的標籤，注入跨網域資源，向伺服器求得 JSON 資料，並以回呼函式的方式，讓 JavaScript 得以後續利用。

實做方式是 `<script>` 標籤的 `src` 屬性填入會回傳 JSON 檔的 URL，並指定回呼函式名稱 `https://ooxx/ooxx?option=value&callback=receiveData`，就可以在 `receivData` 函式中得到資料。

~~自己還沒親自嘗試...~~

## 要如何存取跨網域的 API？

這題應該是假設 Client 端如何存取 🤔

- HTML 法：
  使用 `<iframe>`、`<img>`、`<video>`、`<script>`、、`<link>` 等不被同源政策列管的標籤存取。

- 發電報法：
  使用函式庫如`XMLHttpRequest`等，透過瀏覽器幫助發送請求給 Server。要注意電報報頭（Header）有時需要特別設定，讓 Server 允許放行。

- JSON 呸（P）法

## 為什麼我們在第四週時沒碰到跨網域的問題，這週卻碰到了？

因為瀏覽器是大家的好朋友，瀏覽器都替我們著想什麼是最好的情況所以預先防止可能的奇怪操作。Node.js 不是運行在瀏覽器中，所以沒有同源政策的限制，但也不代表可以毫無章法，Server 端仍可有很多防範措施，以免有人惡意竊取資料。
